# Context-Free Language (CFL)
[![Github link](https://img.shields.io/badge/FaDrYL--blue?style=social&logo=Github&logoWidth=15)](https://github.com/FaDrYL)
[![Website link](https://img.shields.io/badge/FaDr-YL-blue?style=flat&color=009f9f)](https://www.fadryl.com/)

Context-free language (CFL) is the language that generated by context-free grammar.

<br/>

## Context-Free Grammar (CFG)
Context-free grammar consist by some production rules.

For an example of production rule: `S -> aSa`

- The capital letter is the non-terminal.
- The lower case letter is the terminal.
- Left-hand side has one non-terminal.
- Right-hand side are some terminals and non-terminals.

### Example
For a language PALINDROME over alphabet {a,b},
we can write a CFG for that:

```
S -> aSa          (1)
S -> bSb          (2)
S -> a            (3)
S -> b            (4)
S -> Ɛ            (5) 
```

<br/>

> How to parse string "aaabaaa" from this CFG?

```
begin from 'S'.
S -> aSa         (apply production rule 1 on S)
  -> aaSaa       (rule 1 on S)
  -> aaaSaaa     (rule 1 on S)
  -> aaabaaa     (rule 4 on S)
Done!
```

<br/>

## Parse Tree
Parse Tree a tree structure to parse a string.

### Example
For a language PALINDROME over alphabet {a,b},
we have a CFG as before:

```
S -> aSa          (1)
S -> bSb          (2)
S -> a            (3)
S -> b            (4)
S -> Ɛ            (5) 
```

> a parse tree of string "aaabaaa"

```
            S
          / | \       (rule 1)
         a  S  a
          / | \       (rule 1)
         a  S  a
          / | \       (rule 1)
         a  S  a
            |         (rule 4)
            b
```

<br/>

## Chomsky Normal Form (CNF)
The CFG in CNF if and only if all production rules are in following form:

1. `S -> AB`,
2. `S -> a` or
3. `S -> Ɛ`.

Right-hand side should only have exact two non-terminals, one terminal or empty string.

<br/>

## Pumping Lemma For CFL
We can use pumping lemma for CFL to **disprove** the language is context-free.

It is similar to the pumping lemma for regular language. But, there has some different rules.

For the language *l* that is context-free, by definition of CFL, *l* has a CFG in CNF that has *k* non-terminals.  
For a word *w* in *l* that `|w| >= 2^k`.  

> If `k = 1`, then the CFG can only be `S -> a, S-> Ɛ or S -> SS`.  
> If `w > 2^k`, then it must have a production rule like `S -> SS`.  
> Otherwise, it only has `S -> a, S-> Ɛ`. Words in such language can only be: `a` or `Ɛ` which is smaller than 2^k.

The rules of pumping lemma for cfl:  
we choose a word for *w* (As simple as possible).  
1. *w* can partition to *uvxyz*. (`w = uvxyz`)  
2. *v* and *y* cannot both be empty. (`|vy| > 0` or `y != Ɛ or v != Ɛ`)  
3. `|vxy| <= 2^k`.  
4. `u(v^i)x(y^i)z` must also be words in *l* that `i >= 0`. (`u(v^i)x(y^i)z ∈ l`)  

For each case of all cases of partition, 
we need find a number *i* that `u(v^i)x(y^i)z` is not a word in *l*.

After all cases done, and they are all contradict the *rule 4*, we can conclude that:  
By the contradiction of conclusion of pumping lemma, *l* is not context-free.

### Example
> Is the language `a^nb^na^n` (e.g. `aabbaa` for n = 2) context-free?

let *l* be the language `a^nb^na^n`, Assume *l* is context-free.  
So, *l* has a CFG in CNF with *k* non-terminals.  
For a word `w = a^kb^ka^k` in *l* that `|w| >= 2^k`,  
Such that:  
1. `w = uvxyz`.
2. `|vy| > 0`.
3. `|vxy| <= 2^k`.
4. `u(v^i)x(y^i)z ∈ l`.

By the **rule 1** and **rule 3**, `vxy` can only be either `a^kb^k` or `b^ka^k`.  
For the first case, `vxy = a^kb^k`, `u = Ɛ` and `z = a^k`.
`v` can be `a^kb^k` or `a^k with some b's` or `some a's`.
For all of these, if *i* is not 1, 
length of first `a` or/and `b` will either less or more than length of last part of `a`s.
which means `u(v^i)x(y^i)z` is a word in *l*.

For the second case, it is same as above. except `v` can be `b^ka^k` or `b^k with some a's` or `some b's`.
Therefore, if *i* is not 1, then length of `b` or/and second part of `a` will either less or more than length of first part of `a`s.
which means `u(v^i)x(y^i)z` is a word in *l*.

By the contradiction of conclusion of pumping lemma, the language `a^nb^na^n` is not context-free.


